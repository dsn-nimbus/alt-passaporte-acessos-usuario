!function(e){"use strict";e.module("alt.passaporte-acessos-usuario",[]).provider("altPassaporteAcessosUsuario",[function(){var o=this;o._assinante=null,o._assinantePreenchido=function(){return!!o._assinante},o.inicializa=function(r){if(!e.isObject(r)||!Object.keys(r).length)throw new TypeError("Parâmetro de inicialização deve ser um objeto.");if(!e.isArray(r.produtos)||!r.produtos.length)throw new TypeError("Parâmetro de inicialização deve conter um array de produtos.");o._assinante=r},o.atualiza=function(r){if(!e.isObject(r)||!Object.keys(r).length)throw new TypeError("Parâmetro de atualização deve ser um objeto.");if(!e.isArray(r.produtos)||!r.produtos.length)throw new TypeError("Parâmetro de atualização deve conter um array de produtos.");o._assinante=r},o.temAcessoFuncionalidade=function(e){if(o._assinantePreenchido()){if(!e)throw new TypeError("Funcionalidade não informada para verificação de acesso.");for(var r=o._assinante.produtos.length-1;r>=0;r--)if(o._assinante.produtos[r].funcionalidades)for(var a=0,n=o._assinante.produtos[r].funcionalidades.length;a<n;a++)if(o._assinante.produtos[r].funcionalidades[a].idExterno===e)return!0;return!1}},o.temAcessoProduto=function(e){if(o._assinantePreenchido()){if(!e)throw new TypeError("Chave do produto não informada para verificação de acesso.");for(var r=0,a=o._assinante.produtos.length;r<a;r++){if(o._assinante.produtos[r].chaveProduto===e)return!0;for(var n=0,t=o._assinante.produtos[r].dependencias.length;n<t;n++)if(o._assinante.produtos[r].dependencias[n].chaveProduto===e)return!0}return!1}},o.$get=[function(){return o}]}])}(window.angular);