!function(e){"use strict";e.module("alt.passaporte-acessos-usuario",[]).provider("altPassaporteAcessosUsuario",[function(){var a=this;a._assinante=null,a._assinantePreenchidoInicializacao=!1,a._assinantePreenchido=function(){return!!a._assinante},a.inicializa=function(n){if(!e.isObject(n)||!Object.keys(n).length)throw new TypeError("Parâmetro de inicialização deve ser um objeto.");if(!e.isArray(n.produtos)||!n.produtos.length)throw new TypeError("Parâmetro de inicialização deve conter um array de produtos.");a._assinante=n},a.temAcessoFuncionalidade=function(e){if(!a._assinantePreenchido())throw new TypeError("Assinante não inicializado, utilize .inicializa(assinante).");if(!e)throw new TypeError("Funcionalidade não informada para verificação de acesso.");for(var n=a._assinante.produtos.length-1;n>=0;n--)if(a._assinante.produtos[n].funcionalidades)for(var o=0,r=a._assinante.produtos[n].funcionalidades.length;o<r;o++)if(a._assinante.produtos[n].funcionalidades[o].idExterno===e)return!0;return!1},a.temAcessoProduto=function(e){if(!a._assinantePreenchido())throw new TypeError("Assinante não inicializado, utilize .inicializa(assinante).");if(!e)throw new TypeError("Chave do produto não informada para verificação de acesso.");for(var n=0,o=a._assinante.produtos.length;n<o;n++){if(a._assinante.produtos[n].chaveProduto===e)return!0;for(var r=0,i=a._assinante.produtos[n].dependencias.length;r<i;r++)if(a._assinante.produtos[n].dependencias[r].chaveProduto===e)return!0}return!1},a.atualiza=function(n){if(!e.isObject(n)||!Object.keys(n).length)throw new TypeError("Parâmetro de atualização deve ser um objeto.");if(!e.isArray(n.produtos)||!n.produtos.length)throw new TypeError("Parâmetro de atualização deve conter um array de produtos.");a._assinante=n},a.$get=[function(){return a}]}])}(window.angular);