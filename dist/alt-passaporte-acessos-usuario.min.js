!function(i){"use strict";i.module("alt.passaporte-acessos-usuario",[]).service("altPassaporteAcessosUsuario",[function(){this._assinante=null,this._assinantePreenchidoInicializacao=!1,this._assinantePreenchido=function(){return!!this._assinante&&!!this._assinantePreenchidoInicializacao},this.inicializa=function(a){if(!i.isObject(a)||!Object.keys(a).length)throw new TypeError("Parâmetro de inicialização deve ser um objeto.");if(!i.isArray(a.produtos)||!a.produtos.length)throw new TypeError("Parâmetro de inicialização deve conter um array de produtos.");i.forEach(a.produtos,function(a){if(!(a.isModulo||i.isArray(a.funcionalidades)&&a.funcionalidades.length))throw new TypeError("Parâmetro de inicialização deve conter um array de funcionalidades dentro do produto.")}),this._assinante=a,this._assinantePreenchidoInicializacao=!0},this.temAcessoFuncionalidade=function(i){if(!this._assinantePreenchido())throw new TypeError("Assinante não inicializado, utilize .inicializa(assinante).");if(!i)throw new TypeError("Funcionalidade não informada para verificação de acesso.");for(var a=this._assinante.produtos.length-1;a>=0;a--)if(!this._assinante.produtos[a].isModulo)for(var e=0,o=this._assinante.produtos[a].funcionalidades.length;o>e;e++)if(this._assinante.produtos[a].funcionalidades[e].idExterno===i)return!0;return!1},this.temAcessoProduto=function(i){if(!this._assinantePreenchido())throw new TypeError("Assinante não inicializado, utilize .inicializa(assinante).");if(!i)throw new TypeError("Chave do produto não informada para verificação de acesso.");for(var a=this._assinante.produtos.length-1;a>=0;a--)if(this._assinante.produtos[a].chaveProduto===i)return!0;return!1},this.atualiza=function(a){if(!this._assinantePreenchido())throw new TypeError("Assinante não inicializado, utilize .inicializa(assinante).");if(!i.isObject(a)||!Object.keys(a).length)throw new TypeError("Parâmetro de atualização deve ser um objeto.");if(!i.isArray(a.produtos)||!a.produtos.length)throw new TypeError("Parâmetro de atualização deve conter um array de produtos.");i.forEach(a.produtos,function(a){if(!(a.isModulo||i.isArray(a.funcionalidades)&&a.funcionalidades.length))throw new TypeError("Parâmetro de atualização deve conter um array de funcionalidades dentro do produto.")}),this._assinante=a}}])}(window.angular);