!function(e){"use strict";e.module("alt.passaporte-acessos-usuario",[]).provider("altPassaporteAcessosUsuario",[function(){var r=this;r._assinante=null,r._assinantePreenchido=function(){return!!r._assinante},r.inicializa=function(o){if(!e.isObject(o)||!Object.keys(o).length)throw new TypeError("Parâmetro de inicialização deve ser um objeto.");if(!e.isArray(o.produtos)||!o.produtos.length)throw new TypeError("Parâmetro de inicialização deve conter um array de produtos.");r._assinante=o},r.atualiza=function(o){if(!e.isObject(o)||!Object.keys(o).length)throw new TypeError("Parâmetro de atualização deve ser um objeto.");if(!e.isArray(o.produtos)||!o.produtos.length)throw new TypeError("Parâmetro de atualização deve conter um array de produtos.");r._assinante=o},r.temAcessoFuncionalidade=function(e){if(r._assinantePreenchido()){if(!e)throw new TypeError("Funcionalidade não informada para verificação de acesso.");for(var o=r._assinante.produtos.length-1;o>=0;o--){var a=r._assinante.produtos[o].funcionalidades;if(a)for(var n=0,t=a.length;n<t;n++)if(a[n].idExterno===e)return!0}return!1}},r.temAcessoProduto=function(e){if(r._assinantePreenchido()){if(!e)throw new TypeError("Chave do produto não informada para verificação de acesso.");for(var o=0;o<r._assinante.produtos.length;o++){var a=r._assinante.produtos[o];if(a.chaveProduto===e&&!a.isCancelado)return!0;for(var n=0;n<r._assinante.produtos[o].dependencias.length;n++){var t=r._assinante.produtos[o].dependencias[n];if(t.chaveProduto===e&&!t.isCancelado)return!0}}return!1}},r.$get=[function(){return r}]}])}(window.angular);